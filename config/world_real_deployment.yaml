---
# config/world_real_deployment.yaml
# Configuração para Mundo Real - Reproduzível em qualquer ambiente

# ============================================================================
# DEPLOYMENT REAL-WORLD - Hash Cracker Lab + Projeto Final
# ============================================================================
# Este arquivo centraliza TODAS as configurações para reprodutibilidade mundo real
# Adaptável a diferentes ambientes, sem hardcoding valores

deployment:
  name: "HashCrackerLab - Real-World Assessment"
  version: "2.0"
  created: "2026-02-08"
  mode: "real-world"  # lab | real-world | pentest
  
  # AJUSTÁVEIS por operador
  target_environment: "corporate-network"  # lab-demo | corporate-network | home-office
  threat_level: "medium"  # low | medium | high
  authorization_level: "pentest"  # educational | authorized | pentest

# ============================================================================
network:
  topology:
    name: "ArcherC20v6 Lab Network"
    router_ip: "192.168.100.1"
    subnet_mask: "255.255.255.0"
    vlan_separation: false
    isolation_required: true
    
  machines:
    orchestrator:
      name: "Arch Linux - Orchestrator"
      role: "central_coordinator"
      ip: "192.168.100.10"
      os: "Arch Linux"
      gpu: "NVIDIA RTX 3060"
      cpu_cores: 8
      ram_gb: 16
      services:
        - "hashcat"
        - "python-orchestrator"
        - "webserver-http"
        - "metrics-collector"
    
    wifi_capture:
      name: "Kali Linux - WiFi Capture"  
      role: "network_monitoring"
      ip: "192.168.100.20"
      os: "Kali Linux 2026"
      tools:
        - "airmon-ng"
        - "airodump-ng"
        - "aireplay-ng"
        - "aircrack-ng"
      interface: "wlan0"
      monitor_interface: "wlan0mon"
      
    telnet_generator:
      name: "Windows1 - Telnet Traffic"
      role: "traffic_generation"
      ip: "192.168.100.30"
      os: "Windows 10/11"
      services:
        - "python-telnet-auth"
        - "network-simulation"
      
    packet_analyzer:
      name: "Windows2 - Packet Analyzer"
      role: "packet_capture"
      ip: "192.168.100.31"
      os: "Windows 10/11"
      tools:
        - "wireshark"
        - "tcpdump"
        - "tshark"

# ============================================================================
wifi_security:
  target_network:
    ssid: "LAB-SERVERS"
    protocol: "WPA2"  # WPA2 | WPA3 (demo uses WPA2 - vulnerable)
    frequency: "2.4GHz"  # 2.4GHz | 5GHz
    channel: 6
    encryption: "CCMP"  # AES encryption
    
  attack_parameters:
    method: "handshake_capture"  # handshake_capture | brute_force
    deauth_packets: 5
    timeout_seconds: 600  # 10 min para captura realista
    wordlist: "wordlists/rockyou-small.txt"  # Ajustável
    additional_rules: false
    
  expected_results:
    handshake_capture: true
    password_discovered: "Cibersegura"  # Known for testing
    time_to_crack_minutes: 2  # Com wordlist pequena
    success_rate_percent: 100  # Educacional

# ============================================================================
telnet_security:
  traffic_simulation:
    protocol: "telnet"
    port: 23
    server_ip: "192.168.100.1"
    credentials:
      username: "duarte"
      password: "Cibersegura"
      hash_algorithm: "sha256"  # md5 | sha1 | sha256 | plaintext
    
    traffic_pattern:
      connection_count: 5
      interval_seconds: 2.0
      payload_size_bytes: 256
      duration_seconds: 30
    
    capture_config:
      interface: "ethernet"
      filter: "tcp.port == 23 or tcp.port == 80"
      packet_count: 0  # 0 = unlimited
      file_format: "pcapng"
    
  expected_results:
    packets_captured: 50  # Mínimo
    credentials_visible: true
    hash_extraction_possible: true
    plaintext_visible: true

# ============================================================================
hash_cracking:
  hash_generation:
    algorithms:
      - name: "md5"
        count: 50
        charset: "ascii"
        length_min: 8
        length_max: 12
      
      - name: "sha256"
        count: 50
        charset: "ascii"
        length_min: 8
        length_max: 12
      
      - name: "bcrypt"
        count: 25
        cost_factor: 10
      
      - name: "scrypt"
        count: 25
    
    salt_usage:
      enabled: true
      extraction_method: "automatic"  # automatic | manual
  
  attack_modes:
    # 6 Attack Modes - Cada um progressivamente agressivo
    
    dictionary:
      mode: "0"
      description: "Dictionary Attack"
      wordlist: "wordlists/rockyou-small.txt"
      timeout_seconds: 300  # 5 min
      expected_success_percent: 70
    
    dictionary_rules:
      mode: "0"
      rules: "rules/best66.rule"
      description: "Dictionary + Rules"
      timeout_seconds: 600  # 10 min
      expected_success_percent: 85
    
    bruteforce:
      mode: "3"
      description: "Brute-Force"
      masks:
        - "?l?l?l?l?l?l"  # 6 lowercase
        - "?u?u?u?u?u?u"  # 6 uppercase
        - "?d?d?d?d?d?d"  # 6 digits
      timeout_seconds: 900  # 15 min
      expected_success_percent: 95
    
    combinator:
      mode: "1"
      wordlist1: "wordlists/rockyou-small.txt"
      wordlist2: "wordlists/rockyou-small.txt"
      timeout_seconds: 300
      expected_success_percent: 75
    
    hybrid_wl_mask:
      mode: "6"
      wordlist: "wordlists/rockyou-small.txt"
      masks: ["?d?d", "?d?d?d"]
      timeout_seconds: 600
      expected_success_percent: 80
    
    hybrid_mask_wl:
      mode: "7"
      masks: ["?l?l", "?u?u"]
      wordlist: "wordlists/rockyou-small.txt"
      timeout_seconds: 600
      expected_success_percent: 78
  
  execution_sequence:
    # Ordem de ataque - mais eficiente para mais rápido
    order:
      - "dictionary"       # Rápido, alta taxa
      - "dictionary_rules" # Mais lento, mais sucesso
      - "combinator"       # Combinatórias
      - "hybrid_wl_mask"   # Híbridos
      - "hybrid_mask_wl"   # Mais híbridos
      - "bruteforce"       # Último recurso (slow)
    
    stop_on_all_cracked: true  # Parar se 100% sucesso
    concurrent_modes: 1  # Modos paralelos

# ============================================================================
gpu_configuration:
  hardware:
    gpu_type: "NVIDIA RTX 3060"
    compute_capability: "8.6"
    vram_gb: 12
    tflops: 7000  # Approximate
  
  hashcat_settings:
    command: "hashcat.exe"  # Windows: .exe | Linux: binary
    workload_profile: 4  # 1=conserv | 2=normal | 3=aggressive | 4=disabled
    kernel_accel: 256
    kernel_loops: 1024
    device_type: "GPU"  # GPU | CPU | Both
  
  performance:
    estimated_hashes_per_second: 460000000  # 460M H/s
    estimated_time_md5_20hash: 0.05  # segundos
    estimated_time_sha256_20hash: 4.0  # segundos
    estimated_time_bcrypt_10hash: 120.0  # segundos

# ============================================================================
multi_machine_sync:
  coordination:
    central_node: "192.168.100.10"  # Arch orchestrator
    sync_method: "sequence"  # sequence | parallel | burst
    timing_tolerance_seconds: 2
    heartbeat_interval: 5
    
  phases:
    initialization:
      duration_seconds: 30
      async_allowed: true
    
    network_validation:
      duration_seconds: 10
      async_allowed: false
    
    wifi_capture:
      duration_seconds: 600  # 10 minutos
      async_allowed: false
      machine: "192.168.100.20"  # Kali
    
    telnet_traffic:
      duration_seconds: 60
      async_allowed: false
      machines:
        - "192.168.100.30"  # Windows1 (generator)
        - "192.168.100.31"  # Windows2 (analyzer)
    
    cracking:
      duration_seconds: 3600  # 1 hora max
      async_allowed: true  # Cada máquina continua
      machine: "192.168.100.10"  # Arch
    
    reporting:
      duration_seconds: 300
      async_allowed: false

# ============================================================================
performance_metrics:
  collection_enabled: true
  interval_seconds: 10
  
  metrics_to_collect:
    - "gpu_utilization"
    - "memory_usage"
    - "temperature"
    - "hashrate"
    - "cracking_progress"
    - "network_traffic"
    - "response_times"
  
  reporting:
    format: "json"
    frequency: "per-phase"
    output_directory: "results/metrics"
    include_graphs: true

# ============================================================================
logging:
  level: "INFO"  # DEBUG | INFO | WARNING | ERROR
  format: "detailed"  # simple | detailed | json
  
  logs:
    orchestrator: "results/orchestrator.log"
    wifi_cracking: "results/wifi.log"
    telnet_capture: "results/telnet.log"
    hash_cracking: "results/cracking.log"
    metrics: "results/metrics.log"
  
  retention_days: 90
  rotation_size_mb: 100

# ============================================================================
security_considerations:
  authentication:
    required: true
    method: "ssh_key"  # ssh_key | password
    timeout_minutes: 60
    
  data_protection:
    encrypt_results: true
    encrypt_wordlists: false  # Públicos
    secure_deletion: true  # shred after use
    
  access_control:
    allowed_users:
      - "henrique@arch"
      - "ferro@kali"
      - "duarte@windows1"
      - "francisco@windows2"
    
    ip_whitelist:
      - "192.168.100.0/24"
    
    require_vpn: false

# ============================================================================
escalation_parameters:
  # Parâmetros para aumentar agressividade
  
  # Se wordlist pequena falhar:
  next_wordlist: "wordlists/rockyou-100k.txt"
  
  # Se GPU não suficiente:
  enable_cpu_fallback: true
  enable_gpu_clustering: false  # Multi-GPU
  
  # Se tempo insuficiente:
  use_smaller_masks: true  # Reduzir tamanho search space
  use_approximate_algorithms: true  # Algo mais rápido
  
  # Se sem sucesso:
  extend_attack_duration: true
  add_more_wordlists: true
  enable_all_gpu_cores: true

# ============================================================================
reporting:
  output_format:
    - "json"
    - "markdown"
    - "html"
  
  report_sections:
    - "executive_summary"  # Para decision makers
    - "technical_details"  # Para SOs
    - "security_analysis"  # Para compliance
    - "recommendations"    # Ações
    - "metrics"           # Performance data
    - "timeline"          # Sequência completa
    - "artifacts"         # Ficheiros gerados
  
  distribution:
    email: true
    upload_to: "192.168.100.10/results/"
    backup_location: "/mnt/backup/"

# ============================================================================
validation:
  pre_deployment_checks:
    - "network_connectivity"
    - "tool_availability"
    - "gpu_detection"
    - "wordlist_present"
    - "disk_space_sufficient"
    - "permissions_correct"
  
  during_execution:
    - "heartbeat_monitoring"
    - "progress_tracking"
    - "error_detection"
    - "performance_monitoring"
  
  post_execution:
    - "results_validation"
    - "artifact_verification"
    - "log_completeness"
    - "report_generation"

# ============================================================================
# NOTAS OPERACIONAIS
# ============================================================================
# 1. Este arquivo é TEMPLATE - ajustar conforme ambiente real
# 2. Valores timing são ESTIMATIVAS - variam com hardware
# 3. Wordlists podem ser substituídas por versões maiores
# 4. GPU pode ter múltiplas unidades (cluster)
# 5. Requer AUTORIZAÇÃO prévia para execução mundo real
# 6. Respeitar LEIS & REGULAÇÕES locais
# 7. Manter LOG COMPLETO de toda execução
# 8. Usar resultados para MELHORIAS de segurança
# ============================================================================
